<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <content>ScheduledSms</content>
        <skipRecordTypeSelect>false</skipRecordTypeSelect>
        <type>Visualforce</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <deprecated>false</deprecated>
    <enableActivities>false</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableFeeds>true</enableFeeds>
    <enableHistory>false</enableHistory>
    <enableReports>false</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <fields>
        <fullName>Account__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Account</label>
        <referenceTo>Account</referenceTo>
        <relationshipLabel>Scheduled SMS</relationshipLabel>
        <relationshipName>Scheduled_SMS_del</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>CampaignMembersType__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Campaign Members Type</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Campaign__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Campaign</label>
        <referenceTo>Campaign</referenceTo>
        <relationshipLabel>Scheduled SMS</relationshipLabel>
        <relationshipName>Scheduled_SMS_del</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Contact__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Contact</label>
        <referenceTo>Contact</referenceTo>
        <relationshipLabel>Scheduled SMS</relationshipLabel>
        <relationshipName>Scheduled_SMS_del</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>End_Date__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>End Date</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>IsEveryDay__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Every Day ?</label>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>IsEveryMonth__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Every Month ?</label>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Last_SMS_Sent_Date__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Last SMS Sent Date</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Lead__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Lead</label>
        <referenceTo>Lead</referenceTo>
        <relationshipLabel>Scheduled SMS</relationshipLabel>
        <relationshipName>Scheduled_SMS_del</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Message_Text__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Message Text</label>
        <length>32768</length>
        <trackFeedHistory>true</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>3</visibleLines>
    </fields>
    <fields>
        <fullName>Next_SMS_Send_Date__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Next SMS Send Date</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Object_Name__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Object Name</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>true</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Opportunity__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Opportunity</label>
        <referenceTo>Opportunity</referenceTo>
        <relationshipLabel>Scheduled SMS</relationshipLabel>
        <relationshipName>Scheduled_SMS_del</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Phone_Api__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Phone Api</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Related_Object_Id__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Related Object Id</label>
        <length>20</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>SMS_Template__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>SMS Template</label>
        <referenceTo>Message_Template__c</referenceTo>
        <relationshipLabel>Scheduled SMS</relationshipLabel>
        <relationshipName>Scheduled_SMS</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Scheduled_JobId__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Scheduled JobId</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Scheduled_Time__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Scheduled Time</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Sender_Number_Key__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Sender Number Key</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Sender_Number__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Sender Number</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Phone</type>
    </fields>
    <fields>
        <fullName>Template__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Template</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>isSent__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>isSent</label>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <label>Scheduled SMS</label>
    <listViews>
        <fullName>Canceled_Scheduled_SMS</fullName>
        <columns>NAME</columns>
        <columns>Object_Name__c</columns>
        <columns>Message_Text__c</columns>
        <columns>Scheduled_Time__c</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>Scheduled_JobId__c</field>
            <operation>equals</operation>
        </filters>
        <label>Canceled Scheduled SMS</label>
    </listViews>
    <listViews>
        <fullName>Scheduled_Sms</fullName>
        <columns>NAME</columns>
        <columns>Scheduled_JobId__c</columns>
        <columns>Object_Name__c</columns>
        <columns>IsEveryDay__c</columns>
        <columns>IsEveryMonth__c</columns>
        <columns>Message_Text__c</columns>
        <columns>Last_SMS_Sent_Date__c</columns>
        <columns>Next_SMS_Send_Date__c</columns>
        <columns>End_Date__c</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>Next_SMS_Send_Date__c</field>
            <operation>notEqual</operation>
        </filters>
        <filters>
            <field>Scheduled_JobId__c</field>
            <operation>notEqual</operation>
        </filters>
        <label>Scheduled SMS</label>
    </listViews>
    <listViews>
        <fullName>Sent_SMS1</fullName>
        <columns>NAME</columns>
        <columns>Scheduled_JobId__c</columns>
        <columns>Object_Name__c</columns>
        <columns>IsEveryDay__c</columns>
        <columns>IsEveryMonth__c</columns>
        <columns>Message_Text__c</columns>
        <columns>Last_SMS_Sent_Date__c</columns>
        <columns>Next_SMS_Send_Date__c</columns>
        <columns>End_Date__c</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>Next_SMS_Send_Date__c</field>
            <operation>equals</operation>
        </filters>
        <filters>
            <field>Scheduled_JobId__c</field>
            <operation>notEqual</operation>
        </filters>
        <label>Sent SMS</label>
    </listViews>
    <nameField>
        <label>Scheduled Sms Name</label>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Text</type>
    </nameField>
    <pluralLabel>Scheduled SMS</pluralLabel>
    <searchLayouts>
        <excludedStandardButtons>New</excludedStandardButtons>
        <excludedStandardButtons>ChangeOwner</excludedStandardButtons>
        <listViewButtons>Cancel_Scheduled_SMS</listViewButtons>
    </searchLayouts>
    <sharingModel>ReadWrite</sharingModel>
    <webLinks>
        <fullName>Cancel_Scheduled_SMS</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Cancel Scheduled SMS</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&apos;/js/functions.js&apos;)} 
{!REQUIRESCRIPT(&apos;/resource/tdc_tsw__jQueryForPopup/jQuery/jquery-1.8.2.min.js&apos;)} 
{!REQUIRESCRIPT(&apos;/resource/tdc_tsw__jQueryForPopup/jQuery/ui/jquery-ui-1.9.1.custom.min.js&apos;)} 

var updateRecords = []; 
var objIds = &apos;&apos;; 
var records = {!GETRECORDIDS( $ObjectType.Scheduled_Sms__c )}; 
if(records.length&lt;1) 
alert(&apos;Please Select at Least One Row !&apos;); 
else 
{ 
userConsent = confirm(records .length +&apos; Record(s) will be Updated. Continue ? &apos;); 
if(userConsent == true) 
{ 
try 
{ 
for (var a=0; a&lt;records.length; a++){ 
objIds = objIds + &apos;,&apos; + records[a]; 
var selectedRecord = new sforce.SObject(&quot;tdc_tsw__Scheduled_Sms__c&quot;); 
selectedRecord.Id = records[a]; 
selectedRecord.tdc_tsw__Scheduled_JobId__c = &apos; &apos;; 
updateRecords.push(selectedRecord); 
} 
upResult = sforce.connection.update(updateRecords); 
var x =0; 
for (var i=0; i&lt;records.length; i++){ 
if (upResult[i].getBoolean(&quot;success&quot;)) 
{ 
x++; 
} 
else{ 
x--; 
} 
} 
if(upResult.length == x) 
{ 
alert(&apos;The Record(s) were Updated Successfully.&apos;); 
window.location.reload(); 
} 
else{ 
alert(&apos;The Record(s) Could Not be Updated. Error Message: &apos; +upResult[0].errors.message); 
} 
}catch(exception){ 
var msgException = exception; 
var errMsg = &quot;{faultcode:&apos;sf:API_DISABLED_FOR_ORG&apos;, faultstring:&apos;API_DISABLED_FOR_ORG: API is not enabled for this Organization or Partner&apos;, detail:{UnexpectedErrorFault:{exceptionCode:&apos;API_DISABLED_FOR_ORG&apos;, exceptionMessage:&apos;API is not enabled for this Organization or Partner&apos;, }, }, }&quot;; 
if(msgException == errMsg){ 
var objApi = &apos;tdc_tsw__Scheduled_Sms__c&apos;; 
var fieldApi = &apos;tdc_tsw__Scheduled_JobId__c&apos;; 
var fieldVal = &apos; &apos;; 
var url = window.location.href; 
var j$ = jQuery.noConflict(); 
var iframe_url = &apos;{!URLFOR(&quot;/apex/UpdateThroughButton?id=&quot;)}&apos;+objIds+&apos;&amp;objApi=&apos;+objApi+&apos;&amp;fieldApi=&apos;+fieldApi+&apos;&amp;fieldVal=&apos;+fieldVal+&apos;&amp;RUrl=&apos;+url; 
var j$modalDialog = j$(&apos;&lt;div id=&quot;opppopup&quot;&gt;&lt;/div&gt;&apos;) 
.html(&apos;&lt;iframe id=&quot;iframeContentId&quot; src=&quot;&apos; + iframe_url + &apos;&quot; frameborder=&quot;0&quot; height=&quot;100%&quot; width=&quot;100%&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; /&gt;&apos;) 
.dialog(); 
j$modalDialog.dialog(&apos;close&apos;); 
}else{ 
alert(exception); 
} 
} 
} 
}</url>
    </webLinks>
</CustomObject>
