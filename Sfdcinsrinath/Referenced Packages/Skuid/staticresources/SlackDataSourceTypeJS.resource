"use strict";!function(a){var b=a.$,c=a.dataSource,d=c.utils,e=a.constants,f=e.DISPLAY_TYPES,g=e.MIME_TYPES,h=e.HTTP_VERBS,i=e.DATASOURCE,j=a.utils,k=j.getObjectProperty,l=a.ui.renderers,m=a.ui.getFieldRenderer,n=g.JSON,o=i.SEARCH_CONDITION,p=f.ARRAY,q=f.BOOLEAN,r=f.DATETIME,s=f.INTEGER,t=f.OBJECT,u=f.PICKLIST,v=f.STRING,w=f.TEXTAREA,x=f.IMAGE,y=h.POST,z=function(a){var c=[{id:"type",inlineHelpText:"What type of message is it.",createable:!1,editable:!1},{id:"ts",label:"Time Sent",displaytype:r,inlineHelpText:"When the message was sent.",createable:!1,editable:!1,omittable:!1},{id:"user",inlineHelpText:"The user ID of the user who sent the message.",idField:!0,createable:!1,editable:!1},{id:"username",inlineHelpText:"The username of the user who sent the message.",createable:!1,editable:!1,omittable:!0,defer:!0,path:"user.name"},{id:"userRealName",label:"User's Real Name",inlineHelpText:"The full name of the user who sent the message.",createable:!1,editable:!1,omittable:!0,defer:!0,path:"user.real_name"},{id:"text",label:"Text",displaytype:w,inlineHelpText:"The body of the message.",omittable:!1}];return a&&(c=b.merge(c,a)),c},A=function(a,b){var c=a.model,e=d.getModelMergeConditions(c,a),f=k(c,"extensions.rest.entityName"),g=["ChannelMessage","GroupMessage","IMMessage"];"File"===f&&(a.request.url+="&channel="+e.channel+"&types="+e.types+"&user="+e.user),e[o]?g.indexOf(f)>-1&&(a.request.url="/search.messages?token="+b.access_token+"&query="+encodeURI(e[o])+"&count=500",a.method.pathToContent="messages.matches"):g.indexOf(f)>-1&&(a.method.pathToContent="messages")},B=function(a){var b=a.model,c=d.getModelMergeConditions(b,a);["ChannelMessage","GroupMessage","IMMessage"].indexOf(k(b,"extensions.rest.entityName"))>-1&&"true"===c.asBot&&(a.request.url=a.request.url.replace("meMessage","postMessage"))},C=function(a,b){return b.users.filter(function(b){return b.name===a||b.id===a})[0]},D=function(a,c){return b.merge(c.channels,c.groups,c.ims).filter(function(b){return b.name===a||b.id===a})[0]},E=function(a,b){a.options.url=a.row[a.id],m(x).read(a,b)},F=function(a,b){var c=a.row;b?b=new Date(1e3*b).toLocaleString():(b=(new Date).toLocaleString(),c.message&&c.message.ts&&(b=new Date(1e3*c.message.ts).toLocaleString())),m(r).readonly(a,b)},G=function(a,b){var c=a.options&&a.options.addfocusbox;a.options.formatLinks=!0,a.element.html('<div class="nx-fieldtext">'+H(a,b)+(c?'<div class="focusbox" tabindex="0"/>':"")+"</div>")},H=function(a,b){for(var c,d,e=/<([^>]+)>/g,f=a.model,g=f.context,h=g&&g.team.id,i=g&&g.team.domain,k=a.options.formatLinks;null!==(c=e.exec(b));){var l,m=c[1],n=c.input,o=d?d.indexOf(c[0]):c.index,p=d?d.replace(c[0],""):n.replace(c[0],""),q=m.split("|");if(1===q.length){if("@"===m.charAt(0))if(g){var r=C(m.replace("@",""),g),s="@"+r.name;l=k?'<a href="slack://user?team='+h+"&id="+r.id+'">'+s+"</a>":s,d=p.substr(0,o)+l+p.substr(o)}else d=p.substr(0,o)+m+p.substr(o);else if("http"===m.substring(0,4))l=k?'<a href="'+q[0]+'" target=_blank>'+q[0]+"</a>":c[0],d=p.substr(0,o)+l+p.substr(o);else if("#"===m.charAt(0))if(g){var t=D(m.replace("#",""),g),u="#"+t.name;l=k?'<a href="slack://channel?team='+h+"&id="+t.id+'">'+u+"</a>":u,d=p.substr(0,o)+l+p.substr(o)}else d=p.substr(0,o)+m+p.substr(o)}else if(2===q.length)if("@"===m.charAt(0))g?(l=k?'<a href="slack://user?team='+h+"&id="+q[0].replace("@","")+'">@'+q[1]+"</a>":"@"+q[1],d=p.substr(0,o)+l+p.substr(o)):d=p.substr(0,o)+"@"+q[1]+p.substr(o);else if("http"===m.substring(0,4)){var v=q[0],w=q[1];if(m.indexOf(i+".slack.com")>-1&&g){var x=v.slice(0,v.lastIndexOf("/")),y=v.slice(v.lastIndexOf("/")).replace("/",""),z=x.slice(x.lastIndexOf("/")).replace("/","");w="Untitled"===w?y:w,l=k?'<a href="slack://file?team='+h+"&id="+z+'">['+w+"]</a>":c[0]}else l=k?'<a href="'+v+'" target=_blank>'+w+"</a>":c[0];d=p.substr(0,o)+l+p.substr(o)}else"#"===m.charAt(0)&&(g?(l=k?'<a href="slack://channel?team='+h+"&id="+q[0].replace("#","")+'">#'+q[1]+"</a>":"#"+q[1],d=p.substr(0,o)+l+p.substr(o)):d=p.substr(0,o)+"#"+q[1]+p.substr(o))}return d=d||b,k?j.nl2br(L(K(J(I(d))))):d},I=function(a){for(var c=/[ .,!?|]/g,d=[],e=[],f=[],g=a.length,h=0,i=0,j=0;j<g;j++)"_"===a[j]&&d.push(j);return b.each(d,function(b,d){0===h&&(f=[]),0!==d&&d!==g-1&&null===a[d-1].match(c)&&null===a[d+1].match(c)||(f.push(d),h++),2===h&&(h=0,e.push(f))}),b.each(e,function(b,c){a=a.substr(0,c[0]+i)+"<i>"+a.substr(c[0]+i+1),i+=2,a=a.substr(0,c[1]+i)+"</i>"+a.substr(c[1]+i+1),i+=3}),a},J=function(a){for(var c=/[ .,!?]/g,d=[],e=[],f=[],g=a.length,h=0,i=0,j=0;j<g;j++)"*"===a[j]&&d.push(j);return b.each(d,function(b,d){0===h&&(f=[]),0!==d&&d!==g-1&&null===a[d-1].match(c)&&null===a[d+1].match(c)||(f.push(d),h++),2===h&&(h=0,e.push(f))}),b.each(e,function(b,c){a=a.substr(0,c[0]+i)+"<strong>"+a.substr(c[0]+i+1),i+=7,a=a.substr(0,c[1]+i)+"</strong>"+a.substr(c[1]+i+1),i+=8}),a},K=function(a){for(var c=/[ .,!?|]/g,d=[],e=[],f=[],g=a.length,h=0,i=0,j=0;j<g;j++)"`"===a[j]&&"`"!==a[j-1]&&"`"!==a[j+1]&&d.push(j);return b.each(d,function(b,d){0===h&&(f=[]),0!==d&&d!==g-1&&null===a[d-1].match(c)&&null===a[d+1].match(c)||(f.push(d),h++),2===h&&(h=0,e.push(f))}),b.each(e,function(b,c){a=a.substr(0,c[0]+i)+"<code>"+a.substr(c[0]+i+1),i+=5,a=a.substr(0,c[1]+i)+"</code>"+a.substr(c[1]+i+1),i+=6}),a},L=function(a){for(var c=/[ .,!?|]/g,d=[],e=[],f=[],g=a.length,h=0,i=0,j=0;j<g;j++)"~"===a[j]&&d.push(j);return b.each(d,function(b,d){0===h&&(f=[]),0!==d&&d!==g-1&&null===a[d-1].match(c)&&null===a[d+1].match(c)||(f.push(d),h++),2===h&&(h=0,e.push(f))}),b.each(e,function(b,c){a=a.substr(0,c[0]+i)+'<div style="text-decoration: line-through;">'+a.substr(c[0]+i+1),i+=43,a=a.substr(0,c[1]+i)+"</div>"+a.substr(c[1]+i+1),i+=5}),a},M=function(a,b){for(var c,d,e=/@([^ .,!?|]+)/g;null!==(c=e.exec(a));){var f=c[1],g=c.input,h=d?d.indexOf(c[0]):c.index,i=d?d.replace(c[0],""):g.replace(c[0],""),j=C(f,b),k="<@"+j.id+"|"+j.name+">";d=i.substr(0,h)+k+i.substr(h)}return d||a},N=function(a,b){for(var c,d,e=/#([^ .,!?|]+)/g;null!==(c=e.exec(a));){var f=c[1],g=c.input,h=d?d.indexOf(c[0]):c.index,i=d?d.replace(c[0],""):g.replace(c[0],""),j=D(f,b),k="<#"+j.id+"|"+j.name+">";d=i.substr(0,h)+k+i.substr(h)}return d||a};c.getDataSourceType("Slack")||new c.core.RESTDataSourceTypeBase({name:"Slack",coerceRequest:function(a){var e=a.model,f=a.type,g=k(e,"extensions.rest.entityName"),h=["ChannelMessage","GroupMessage","IMMessage"],i=e.dataSource?e.dataSource:c.getDataSource(e.dataSourceName),j=i.authentication.responseBody||"";d.applyAccessTokenAsParam(a,j,"token"),"query"===f&&A(a,j),"insert"===f&&B(a),"insert"!==f&&"update"!==f||b.inArray(g,h)>-1&&(a.row.text=encodeURIComponent(a.row.text.replace("#","%23")))},coerceSaveResultObject:function(a,b){var c=b.model.context;if(a.record.hasOwnProperty("text")){var d=decodeURIComponent(a.record.text);a.record.text=c?N(M(d,c),c):d}a.record.type="message"},parseSuccessfulSaveResponse:function(a,c){var e=d.parseAsJSONIfString(a.body),f=c.method.pathToContent,g=f?k(e,f):e;a.body=b.extend(e,g)},onDataSourceChange:function(a){a.attr("deferfieldrendering",!0)},getUploadMethods:function(){var a=function(a){if(a&&a.body){var b=a.body;if(b&&b.error&&b.error.message)return b.error.message}else if(j.isString(a))return a;return"Had an error"};return{"Direct Upload":{label:"Direct Upload",canRunPostUploadSnippet:!0,needsModelInContext:!0,builderProps:[{id:"title",type:"text",label:"File's Title",defaultValue:"",helptext:"You can give your files a title in Slack.  Just to clarify, this is different from the File Name"},{id:"initial_comment",type:"text",label:"Initial Comment",defaultValue:"",helptext:"A comment you would like to leave on the file."},{id:"additional_channels",type:"text",label:"Channels to Send",defaultValue:"",helptext:"A comma separated list of channel IDs that the file will be sent to."}],upload:function(c,e,f,g,h){var i=encodeURIComponent(j.renameFileWhileKeepingExtension(c.name,j.mergeAsTextInContext(f.filename,f))),k=f.model,l=k.dataSource,m=d.getModelMergeConditions(k),n=m.channel,o=new FormData,p=l.serviceUrl,q=f.xmlDef,r=l.authentication.responseBody.access_token,s=p+"/files.upload?token="+r+"&filename="+i;q.attr("additional_channels")&&(s+="&channels="+n+","+q.attr("additional_channels")),q.attr("initial_comment")&&(s+="&initial_comment="+q.attr("initial_comment")),q.attr("title")&&(s+="&title="+q.attr("title")),s=j.mergeAsTextInContext(s,f),o.append("file",c),g({fileName:f.fileName||c.name}),b.ajax({url:s,data:o,type:"POST",contentType:!1,processData:!1,success:function(){h()},error:function(b){h({message:a(b)})}})}}}},fieldRenderers:function(){return{TEXTAREA:{read:G,readonly:G,edit:function(a,b){a.options.formatLinks=!1,a.element.append(l.TEXTAREA.edit({displayRows:a.options.displayRows,onChange:function(b){a.model.updateRow(a.row,a.id,b,a._getUpdateRowOptions())},value:H(a,b)}))}},DATETIME:{read:F,readonly:F,edit:function(a,b){m(r).edit(a,b)}},IMAGE:{read:E,readonly:E,edit:E}}},getEntityList:d.getEntityListStatic,queryEntityMetadata:d.queryEntityMetadataStatic,extendedProperties:{composer:{unomittableFields:!0},hasDefaultSearch:!0,canServerSearch:!0,hasGlobalSearchEntities:!0,"x-metadata":{__skuid_fieldDefaults:{"*":{displaytype:v,editable:!0,createable:!0,accessible:!0}},Channel:{idFields:["id"],nameField:"name",label:"Channel",labelPlural:"Channels",fields:[{id:"id",inlineHelpText:"Identifier of the channel.",createable:!1,editable:!1},{id:"name",inlineHelpText:"Name of the channel."},{id:"created",displaytype:r,inlineHelpText:"Date and time the channel was created.",createable:!1,editable:!1},{id:"creator",label:"CreatorId",displaytype:v,inlineHelpText:"Creator of the channel.",createable:!1,editable:!1,omittable:!0},{id:"creatorUserName",label:"Creator's Username",displaytype:v,inlineHelpText:"Creator of the channel.",createable:!1,editable:!1,omittable:!0,defer:!0,path:"user.name"},{id:"creatorName",label:"Creator's Real Name",displaytype:v,inlineHelpText:"The full name of the user who created the channel.",createable:!1,editable:!1,omittable:!0,defer:!0,path:"user.real_name"},{id:"is_archived",displaytype:q,inlineHelpText:"Whether the channel is archived.",createable:!1,editable:!1},{id:"is_general",displaytype:q,inlineHelpText:"Whether the channel is general.",editable:!1},{id:"is_member",displaytype:q,inlineHelpText:"Whether the current user is a member of the channel.",editable:!1},{id:"is_starred",displaytype:q,inlineHelpText:"Whether the channel is starred.",editable:!1},{id:"members",displaytype:p,inlineHelpText:"A list of all the members of the channel.",editable:!1},{id:"topic",label:"Topic",displaytype:v,inlineHelpText:"The topic of the channel.",editable:!1,synonym:"topic.value"},{id:"purpose",label:"Purpose",displaytype:v,inlineHelpText:"The purpose of the channel.",editable:!1,synonym:"purpose.value"},{id:"last_read",inlineHelpText:"Last message in the channel the user has read.",editable:!1},{id:"unread_count",displaytype:s,inlineHelpText:"Number of messages the user has not read, yet.",editable:!1},{id:"unread_count_display",displaytype:q,inlineHelpText:"Number of messages the user has not read, yet.",editable:!1}],methods:{query:{url:"/channels.list",verb:y,scopes:[],contentType:n,pathToContent:"channels",additionalRequests:[{url:"/users.info?user={{creator}}",verb:y,scopes:[],contentType:n,pathToContent:"user",fields:["creatorUserName","creatorName"]}]},insert:{url:"/channels.create?name={{name}}",verb:y,scopes:[],contentType:n,receiveDataAs:"recordinbody",successIf:"responsefieldistrue",successField:"ok"},update:{url:"/channels.rename?channel={{id}}&name={{name}}",verb:y,scopes:[],contentType:n,receiveDataAs:"recordinbody",successIf:"responsefieldistrue",successField:"ok"},"delete":{url:"/channels.archive?channel={{id}}",verb:y,scopes:[],contentType:n,successIf:"responsefieldistrue",successField:"ok"}}},ChannelMessage:{label:"Channel Message",labelPlural:"Channel Messages",noIdField:!0,fields:z(),methods:{query:{url:"/channels.history?channel={{channel}}",verb:y,scopes:[],contentType:n,pathToContent:"messages",additionalRequests:[{url:"/users.info?user={{user}}",verb:y,scopes:[],contentType:n,pathToContent:"user",fields:["username","userRealName"]}]},insert:{url:"/chat.meMessage?channel={{channel}}&text={{text}}",verb:y,scopes:[],contentType:n,receiveDataAs:"recordinbody",successIf:"responsefieldistrue",successField:"ok",pathToContent:"message"},update:{url:"/chat.update?ts={{ts}}&channel={{channel}}&text={{text}}",verb:y,scopes:[],contentType:n,receiveDataAs:"recordinbody",successIf:"responsefieldistrue",successField:"ok",pathToContent:"message"},"delete":{url:"/chat.delete?ts={{ts}}&channel={{channel}}",verb:y,scopes:[],contentType:n,successIf:"responsefieldistrue",successField:"ok"}},defaultConditions:[{sourcetype:"param",sourceparam:"channel",name:"channel",label:"Channel ID",state:"filterablerequired",type:"fieldvalue",required:!0,value:""},{sourcetype:"param",sourceparam:"asBot",name:"bot",label:"Send as Bot",state:"filterableon",type:"boolean",required:!0,value:!0}]},File:{label:"File",labelPlural:"Files",fields:[{id:"id",label:"ID",displaytype:v,inlineHelpText:"The File's ID",createable:!1,editable:!1},{id:"created",label:"Created Date",displaytype:r,inlineHelpText:"The date the file was created",createable:!1,editable:!1},{id:"timestamp",label:"Timestamp",displaytype:r,inlineHelpText:"The timestamp",createable:!1,editable:!1},{id:"name",label:"File Name",displaytype:v,inlineHelpText:"The name of the file.",createable:!1,editable:!1},{id:"title",label:"File Title",displaytype:v,inlineHelpText:"The title of the file.",createable:!1,editable:!1},{id:"mimetype",label:"Mime Type",displaytype:v,inlineHelpText:"The file's mime type.",createable:!1,editable:!1},{id:"filetype",label:"File Type",displaytype:v,inlineHelpText:"The file's file type.",createable:!1,editable:!1},{id:"pretty_type",label:"Pretty Type",displaytype:v,inlineHelpText:"The file's pretty type.",createable:!1,editable:!1},{id:"user",label:"User",displaytype:v,inlineHelpText:"The user who uploaded the file.",createable:!1,editable:!1},{id:"editable",label:"Editable",displaytype:q,inlineHelpText:"Whether the file is editable.",createable:!1,editable:!1},{id:"size",label:"Size",displaytype:s,inlineHelpText:"Size of the file.",createable:!1,editable:!1},{id:"mode",label:"Mode",displaytype:v,inlineHelpText:"The file's mode.",createable:!1,editable:!1},{id:"is_external",label:"Is External",displaytype:q,inlineHelpText:"Whether the file is from an external source.",createable:!1,editable:!1},{id:"external_type",label:"External Type",displaytype:v,inlineHelpText:"What type of external source.",createable:!1,editable:!1},{id:"is_public",label:"Is Public",displaytype:q,inlineHelpText:"Whether the file is public.",createable:!1,editable:!1},{id:"public_url_shared",label:"Public URL Shared",displaytype:q,inlineHelpText:"Whether the file's public URL is shared.",createable:!1,editable:!1},{id:"display_as_bot",label:"Display As Bot",displaytype:q,inlineHelpText:"Whether the file is displayed from a bot.",createable:!1,editable:!1},{id:"username",label:"Username",displaytype:v,inlineHelpText:"Username of the person who sent the file.",createable:!1,editable:!1},{id:"url_private",label:"URL Private",displaytype:v,inlineHelpText:"The private URL.",createable:!1,editable:!1},{id:"url_private_download",label:"URL Private Download",displaytype:v,inlineHelpText:"The download URL.",createable:!1,editable:!1},{id:"permalink",label:"Permalink",displaytype:v,inlineHelpText:"The permalink.",createable:!1,editable:!1},{id:"permalink_public",label:"Public Permalink",displaytype:v,inlineHelpText:"The public permalink.",createable:!1,editable:!1},{id:"preview",label:"Preview",displaytype:v,inlineHelpText:"The preview.",createable:!1,editable:!1},{id:"updated",label:"Updated",displaytype:r,inlineHelpText:"Last time it was updated.",createable:!1,editable:!1},{id:"state",label:"State",displaytype:v,inlineHelpText:"The state the file is in.",createable:!1,editable:!1},{id:"comments_count",label:"Comments Count",displaytype:s,inlineHelpText:"The number of comments on the file.",createable:!1,editable:!1},{id:"thumb_360",label:"Thumbnail",displaytype:x,inlineHelpText:"The thumbnail image (if applicable)",createable:!1,editable:!1},{id:"thumb_960",label:"Thumbnail (Large)",displaytype:x,inlineHelpText:"The thumbnail image (if applicable)",creatable:!1,editable:!1}],methods:{query:{url:"/files.list",verb:y,scopes:[],contentType:n,pathToContent:"files"},"delete":{url:"/files.delete?file={{id}}",verb:y,scopes:[],contentType:n,successIf:"responsefieldistrue",successField:"ok"}},defaultConditions:[{sourcetype:"param",sourceparam:"channel",name:"channel",label:"Channel ID",state:"filterablerequired",type:"fieldvalue",value:""},{sourcetype:"param",sourceparam:"user",name:"user",label:"User ID",state:"filterablerequired",type:"fieldvalue",value:""},{sourcetype:"param",sourceparam:"types",name:"mimetype",label:"File Type",state:"filterablerequired",type:"fieldvalue",value:"all"}]},Group:{idFields:["id"],nameField:"name",label:"Group",labelPlural:"Groups",fields:[{id:"id",inlineHelpText:"Identifier of the group (private channel).",createable:!1,editable:!1,omittable:!1},{id:"name",inlineHelpText:"Name of the group (private channel)."},{id:"is_group",displaytype:q,inlineHelpText:"Whether or not the group is a group(?).",editable:!1},{id:"created",displaytype:s,inlineHelpText:"When the private channel was created.",createable:!1,editable:!1},{id:"creator",label:"CreatorId",displaytype:v,inlineHelpText:"Creator of the channel.",createable:!1,editable:!1,omittable:!0},{id:"creatorUserName",label:"Creator's Username",displaytype:v,inlineHelpText:"Creator of the channel.",createable:!1,editable:!1,omittable:!0,defer:!0,path:"user.name"},{id:"creatorName",label:"Creator's Real Name",displaytype:v,inlineHelpText:"The full name of the user who created the channel.",createable:!1,editable:!1,omittable:!0,defer:!0,path:"user.real_name"},{id:"is_archived",displaytype:q,inlineHelpText:"Whether or not the private channel is archived."},{id:"is_mpim",label:"Is Multi-Party IM",displaytype:q,inlineHelpText:"Whether or not the channel is a multi-party IM."},{id:"members",displaytype:u,inlineHelpText:"The users in the private channel.."},{id:"topic",label:"Topic",displaytype:v,inlineHelpText:"The topic of the channel.",synonym:"topic.value"},{id:"purpose",label:"Purpose",displaytype:v,inlineHelpText:"The purpose of the channel.",synonym:"purpose.value"}],methods:{query:{url:"/groups.list",verb:y,scopes:[],contentType:n,pathToContent:"groups",additionalRequests:[{url:"/users.info?user={{creator}}",verb:y,scopes:[],contentType:n,pathToContent:"user",fields:["creatorUserName","creatorName"]}]},insert:{url:"/groups.create?name={{name}}",verb:y,scopes:[],contentType:n,receiveDataAs:"recordinbody",successIf:"responsefieldistrue",successField:"ok"},update:{url:"/groups.rename?channel={{id}}&name={{name}}",verb:y,scopes:[],contentType:n,receiveDataAs:"recordinbody",successIf:"responsefieldistrue",successField:"ok"},"delete":{url:"/groups.archive?channel={{id}}",verb:y,scopes:[],contentType:n,successIf:"responsefieldistrue",successField:"ok"}}},GroupMessage:{label:"Group Message",labelPlural:"Group Messages",noIdField:!0,fields:z(),methods:{query:{url:"/groups.history?channel={{group}}",verb:y,scopes:[],contentType:n,pathToContent:"messages",additionalRequests:[{id:"users",url:"/users.info?user={{user}}",verb:y,scopes:[],contentType:n,pathToContent:"user",fields:["username","userRealName"]}]},insert:{url:"/chat.meMessage?channel={{group}}&text={{text}}",verb:y,scopes:[],contentType:n,receiveDataAs:"recordinbody",successIf:"responsefieldistrue",successField:"ok",pathToContent:"message"},update:{url:"/chat.update?ts={{ts}}&channel={{group}}&text={{text}}",verb:y,scopes:[],contentType:n,receiveDataAs:"recordinbody",successIf:"responsefieldistrue",successField:"ok",pathToContent:"message"},"delete":{url:"/chat.delete?ts={{ts}}&channel={{group}}",verb:y,scopes:[],contentType:n,successIf:"responsefieldistrue",successField:"ok"}},defaultConditions:[{sourcetype:"param",sourceparam:"group",name:"channel",label:"Group ID",state:"filterablerequired",type:"fieldvalue",required:!0,value:""},{sourcetype:"param",sourceparam:"asBot",name:"bot",label:"Send as Bot",state:"filterableon",type:"boolean",required:!0,value:!0}]},InstantMessage:{idFields:["id"],label:"IM",labelPlural:"IMs",fields:[{id:"id",inlineHelpText:"Identifier of the IM.",createable:!1,editable:!1},{id:"user",inlineHelpText:"The user in the IM.",editable:!1},{id:"created",displaytype:s,inlineHelpText:"When the IM was created.",createable:!1,editable:!1},{id:"is_im",label:"Is IM",displaytype:q,inlineHelpText:"Whether or not this is an IM.",editable:!1},{id:"is_org_shared",displaytype:q,inlineHelpText:"Is from a shared organization.",createable:!1,editable:!1},{id:"is_user_deleted",displaytype:q,inlineHelpText:"Whether or not the user in the IM is deleted.",createable:!1,editable:!1}],methods:{query:{url:"/im.list",verb:y,scopes:[],contentType:n,pathToContent:"ims"}}},IMMessage:{label:"IM Message",labelPlural:"IM Messages",noIdField:!0,fields:z(),methods:{query:{url:"/im.history?channel={{im}}",verb:y,scopes:[],contentType:n,pathToContent:"messages",additionalRequests:[{id:"users",url:"/users.info?user={{user}}",verb:y,scopes:[],contentType:n,pathToContent:"user",fields:["username","userRealName"]}]},insert:{url:"/chat.meMessage?channel={{im}}&text={{text}}",verb:y,scopes:[],contentType:n,receiveDataAs:"recordinbody",successIf:"responsefieldistrue",successField:"ok",pathToContent:"message"},update:{url:"/chat.update?ts={{ts}}&channel={{im}}&text={{text}}",verb:y,scopes:[],contentType:n,receiveDataAs:"recordinbody",successIf:"responsefieldistrue",successField:"ok",pathToContent:"message"},"delete":{url:"/chat.delete?ts={{ts}}&channel={{im}}",verb:y,scopes:[],contentType:n,successIf:"responsefieldistrue",successField:"ok"}},defaultConditions:[{sourcetype:"param",sourceparam:"im",name:"channel",label:"IM ID",state:"filterablerequired",type:"fieldvalue",required:!0,value:""},{sourcetype:"param",sourceparam:"asBot",name:"bot",label:"Send as Bot",state:"filterableon",type:"boolean",required:!0,value:!0}]},User:{idFields:["id"],nameField:"name",label:"User",labelPlural:"Users",fields:[{id:"id",inlineHelpText:"Identifier of the user.",createable:!1,editable:!1},{id:"team_id",inlineHelpText:"Identifier of the team.",createable:!1,editable:!1},{id:"name",inlineHelpText:"Username of the user.",editable:!1},{id:"deleted",displaytype:q,inlineHelpText:"Whether or not the user is deleted.",createable:!1,editable:!1},{id:"status",inlineHelpText:"Status of the user.",createable:!1,editable:!1},{id:"color",inlineHelpText:"Color of the user (Hexkey without #).",editable:!1},{id:"real_name",inlineHelpText:"Name of the user.",editable:!1},{id:"tz",label:"Time Zone",inlineHelpText:"The time zone the user is in.",editable:!1},{id:"tz_label",label:"Time Zone Label",inlineHelpText:"Time Zone label.",editable:!1},{id:"tz_offset",label:"Time Zone Offset",displaytype:s,inlineHelpText:"Time Zone Offset.",createable:!1,editable:!1},{id:"profile",displaytype:t,inlineHelpText:"Profile information about the user.",editable:!1},{id:"is_admin",displaytype:q,inlineHelpText:"Whether or not the user is an admin.",editable:!1},{id:"is_owner",displaytype:q,inlineHelpText:"Whether or not the user is an owner.",editable:!1},{id:"is_primary_owner",displaytype:q,inlineHelpText:"Whether or not the user is a primary owner.",editable:!1},{id:"is_restricted",displaytype:q,inlineHelpText:"Whether or not the user is restricted.",editable:!1},{id:"is_ultra_restricted",displaytype:q,inlineHelpText:"Whether or not the user is ultra restricted.",editable:!1},{id:"is_bot",displaytype:q,inlineHelpText:"Whether or not the user is a bot.",editable:!1},{id:"first_name",label:"First Name",displaytype:v,inlineHelpText:"First name of the user.",createable:!1,editable:!1,synonym:"profile.first_name"},{id:"last_name",label:"Last Name",displaytype:v,inlineHelpText:"Last name of the user.",createable:!1,editable:!1,synonym:"profile.last_name"},{id:"small_avatar",label:"Profile Picture (Small)",displaytype:x,inlineHelpText:"User's Avatar",createable:!1,editable:!1,synonym:"profile.image_192"},{id:"medium_avatar",label:"Profile Picture (Medium)",displaytype:x,inlineHelpText:"User's Avatar",createable:!1,editable:!1,synonym:"profile.image_512"},{id:"large_avatar",label:"Profile Picture (Large)",displaytype:x,inlineHelpText:"User's Avatar",createable:!1,editable:!1,synonym:"profile.image_1024"},{id:"presence",label:"Presence",displaytype:v,inlineHelpText:"User's Current Presence",createable:!1,editable:!1},{id:"email",label:"Email Address",displaytype:v,inlineHelpText:"User's Email Address",createable:!1,editable:!1,synonym:"profile.email"}],methods:{query:{url:"/users.list?presence=true",verb:y,scopes:[],contentType:n,pathToContent:"members"}}},Message:{label:"Message",labelPlural:"Messages",hidden:!0,noIdField:!0,fields:z([{id:"team",inlineHelpText:"The team id.",createable:!1,editable:!1}]),methods:{query:{url:"/search.messages?query={{search}}",verb:y,scopes:[],contentType:n,pathToContent:"messages.matches"},search:{url:"/search.messages?query={{search}}",verb:y,scopes:[],contentType:n,pathToContent:"messages.matches"}}}}}})}(skuid);